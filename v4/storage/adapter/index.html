<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Caching implementation with a variety of storage options, as well as codified caching strategies for callbacks, classes, and output."> 

    
    
        
    
    <meta name="docsearch:version" content="4.0.0,latest">
    <meta name="docsearch:language" content="en">
    <meta name="docsearch:component" content="laminas-cache">

    <link rel="canonical" href="https://docs.laminas.dev/laminas-cache/v4/storage/adapter/">
    <link rel="shortcut icon" href="https://docs.laminas.dev/img/trademark-laminas-foundation-rgb.svg">

    <title>Adapters - laminas-cache - Laminas Docs</title>

    <link rel="stylesheet" href="https://docs.laminas.dev/css/styles.css">
    
</head>
<body id="page-top" class="components" data-spy="scroll" data-target=".toc" data-offset="20">

    
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        
        <a class="logo-link navbar-brand" href="https://getlaminas.org/" data-tooltip data-placement="bottom" title="Go to the Laminas homepage">
            <img src="https://docs.laminas.dev/img/laminas-foundation-white.svg" height="28" alt="Laminas">
        </a>
        <a class="navbar-title" href="https://docs.laminas.dev/" data-tooltip data-placement="bottom" title="Go to the Laminas Documentation">
            Documentation
        </a>

        
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <div class="dropdown sub-project-selector">
                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false">
                            All Docs
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a href="https://docs.mezzio.dev/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mezzio-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Mezzio</strong><br>
                                        PSR-15 Middleware in Minutes
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/components/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-components-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Components</strong><br>
                                        Components for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/mvc" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mvc-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>MVC</strong><br>
                                        MVC for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/migration/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Migration to Laminas
                                    </div>
                                </div>
                            </a>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/tutorials/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Tutorials
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/participate" class="nav-link">Community</a>
                </li>
            </ul>

            
            
                <div class="d-block d-sm-none">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../../..">laminas-cache</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="../../installation/" class="subnavigation__link">Installation</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Storage</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Adapters</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../capabilities/" class="subnavigation__link">Capabilities</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../plugin/" class="subnavigation__link">Plugins</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cache Patterns</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/callback-cache/" class="subnavigation__link">CallbackCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/object-cache/" class="subnavigation__link">ObjectCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/output-cache/" class="subnavigation__link">OutputCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/capture-cache/" class="subnavigation__link">CaptureCache</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Standards Support</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../psr6/" class="subnavigation__link">PSR-6</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../psr16/" class="subnavigation__link">PSR-16</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Application Integration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../application-integration/usage-in-a-laminas-mvc-application/" class="subnavigation__link">Usage in a laminas-mvc Application</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration Guide</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../migration/to-version-4/" class="subnavigation__link">Migration to Version 4.0</a>
    </li>

            
        </ul>
    </li>

                    
                
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="d-block d-sm-none">
                <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</nav>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-8">
                <h1 class="header__title">
                    Components

                    
                        <small class="header__subtitle">laminas-cache</small>
                    
                </h1>
            </div>

            
            <div class="col-4 text-right">
                
                    
<div class="version-selector">
    <div class="btn-group">
        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" id="version-selector-dropdown">
            
                v4
            
        </button>
        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" aria-labelledby="version-selector-dropdown">
            
                
                    <a href="../../installation/" class="dropdown-item active">
                        
                            v4 (latest)
                        
                    </a>
                
            
                
                    <a href="../../../v3/installation/" class="dropdown-item">
                        
                            v3
                        
                    </a>
                
            
                
                    <a href="../../../v2/installation/" class="dropdown-item">
                        
                            v2
                        
                    </a>
                
            
        </div>
    </div>
</div>


                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/laminas/laminas-cache" class="header__link header__link--github" title="Go to repository of laminas-cache">
                        <i class="fab fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12 content" role="main">
                
                
                    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#quick-start" class="toc__link nav-link">Quick Start</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#basic-configuration-options" class="toc__link nav-link">Basic Configuration Options</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#storageinterface" class="toc__link nav-link">StorageInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#availablespacecapableinterface" class="toc__link nav-link">AvailableSpaceCapableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#totalspacecapableinterface" class="toc__link nav-link">TotalSpaceCapableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#clearbynamespaceinterface" class="toc__link nav-link">ClearByNamespaceInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#clearbyprefixinterface" class="toc__link nav-link">ClearByPrefixInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#clearexpiredinterface" class="toc__link nav-link">ClearExpiredInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#flushableinterface" class="toc__link nav-link">FlushableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#iterableinterface" class="toc__link nav-link">IterableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#optimizableinterface" class="toc__link nav-link">OptimizableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#taggableinterface" class="toc__link nav-link">TaggableInterface</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#apcu-adapter" class="toc__link nav-link">APCu Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#blackhole-adapter" class="toc__link nav-link">BlackHole Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#filesystem-adapter" class="toc__link nav-link">Filesystem Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#memcached-adapter" class="toc__link nav-link">Memcached Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#redis-adapter" class="toc__link nav-link">Redis Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#rediscluster-adapter" class="toc__link nav-link">RedisCluster Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#memory-adapter" class="toc__link nav-link">Memory Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#extmongodb-adapter" class="toc__link nav-link">ExtMongoDB Adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#examples" class="toc__link nav-link">Examples</a>
                    </li>
                
            </ul>
        </div>
    

                

                
                    <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/">Overview</a></li>
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/components/">Components</a></li>

            
                <li class="breadcrumb-item"><a href="../../..">laminas-cache</a></li>

                
                    
                        
                        
                    
                
                    
                        
                        
                            <li class="breadcrumb-item">Storage</li>
                        
                    
                

                <li class="breadcrumb-item active" aria-current="page">Adapters</li>
            
        
    </ol>
</nav>






    
    
        <h2 class="chapter__headline">Storage</h2>
    

    <h1 id="adapters">Adapters</h1>
<p>Storage adapters are wrappers for real storage resources such as memory or the filesystem, using
the well known <em>adapter</em> pattern.</p>
<p>They come with tons of methods to read, write, and modify stored items, and to get information about
stored items and the storage.</p>
<p>All adapters implement <code>Laminas\Cache\Storage\StorageInterface</code>, and most extend
<code>Laminas\Cache\Storage\Adapter\AbstractAdapter</code>, which provides a foundation of
common logic.</p>
<p>Configuration is handled by either <code>Laminas\Cache\Storage\Adapter\AdapterOptions</code>,
or an adapter-specific options class if it exists. You may pass the options
instance to the class at instantiation, via the <code>setOptions()</code> method, or,
alternately, pass an associative array of options in either place (internally,
these are then passed to an options class instance). Alternately, you can pass associative array to the
<code>Laminas\Cache\Service\StorageAdapterFactoryInterface::create</code> method.</p>
<h2 id="quick-start">Quick Start</h2>
<p>Caching adapters can either be created from the provided
<code>Laminas\Cache\Service\StorageAdapterFactoryInterface</code>, or by instantiating one of the
<code>Laminas\Cache\Storage\Adapter\*</code> classes.  To make life easier, the
<code>Laminas\Cache\Service\StorageAdapterFactoryInterface</code> comes with a <code>create()</code> method to create an adapter
and all requested plugins at once.</p>
<pre class="highlight"><code class="language-php">use Laminas\Cache\Service\StorageAdapterFactoryInterface;
use Laminas\Cache\Service\StoragePluginFactoryInterface;
use Psr\Container\ContainerInterface;

/** @var ContainerInterface $container */
$container = null; // can be any configured PSR-11 container

/** @var StorageAdapterFactoryInterface $storageFactory */
$storageFactory = $container-&gt;get(StorageAdapterFactoryInterface::class);

// Via factory:
$cache = $storageFactory-&gt;create(
    'apcu',
    ['ttl' =&gt; 3600],
    [
        [
            'name' =&gt; 'exception_handler',
            'options' =&gt; [
                'throw_exceptions' =&gt; false,
             ], 
        ],
    ]
);

// Via array configuration:
$cache = $storageFactory-&gt;createFromArrayConfiguration([
    'adapter' =&gt; 'apcu',
    'options' =&gt; ['ttl' =&gt; 3600],
    'plugins' =&gt; [
        [
            'name' =&gt; 'exception_handler',
            'options' =&gt; [
                'throw_exceptions' =&gt; false,
             ], 
        ],
    ],
]);

// Alternately, create the adapter and plugin separately:
$cache  = $storageFactory-&gt;create('apcu', ['ttl' =&gt; 3600]);
$pluginFactory = $container-&gt;get(StoragePluginFactoryInterface::class);
$plugin = $pluginFactory-&gt;create('exception_handler', [
    'throw_exceptions' =&gt; false,
]);
$cache-&gt;addPlugin($plugin);

// Or do it completely manually:
$cache  = new Laminas\Cache\Storage\Adapter\Apcu();
$cache-&gt;getOptions()-&gt;setTtl(3600);

$plugin = new Laminas\Cache\Storage\Plugin\ExceptionHandler();
$plugin-&gt;getOptions()-&gt;setThrowExceptions(false);
$cache-&gt;addPlugin($plugin);</code></pre>
<blockquote>
<h3 id="many-methods-throw-exceptions">Many Methods throw Exceptions</h3>
<p>Because many caching operations throw an exception on error, you need to catch
them. You can do so manually, or you can use the plugin
<code>Laminas\Cache\Storage\Plugin\ExceptionHandler</code> with <code>throw_exceptions</code> set to
<code>false</code> to automatically catch them. You can also define an
<code>exception_callback</code> to log exceptions.</p>
</blockquote>
<h2 id="basic-configuration-options">Basic Configuration Options</h2>
<p>The following configuration options are defined by <code>Laminas\Cache\Storage\Adapter\AdapterOptions</code> and
are available for every supported adapter. Adapter-specific configuration options are described on
adapter level below.</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ttl</code></td>
<td><code>integer</code></td>
<td><code>0</code></td>
<td>Time to live</td>
</tr>
<tr>
<td><code>namespace</code></td>
<td><code>string</code></td>
<td><code>"laminascache"</code></td>
<td>The “namespace” in which cache items will live</td>
</tr>
<tr>
<td><code>key_pattern</code></td>
<td><code>null|string</code></td>
<td><code>null</code></td>
<td>Pattern against which to validate cache keys</td>
</tr>
<tr>
<td><code>readable</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Enable/Disable reading data from cache</td>
</tr>
<tr>
<td><code>writable</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Enable/Disable writing data to cache</td>
</tr>
</tbody>
</table></div>
<h2 id="storageinterface">StorageInterface</h2>
<p><code>Laminas\Cache\Storage\StorageInterface</code> is the basic interface implemented by all
storage adapters.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

use Laminas\Cache\Storage\Adapter\AdapterOptions;
use Traversable;

interface StorageInterface
{
    public function setOptions(AdapterOptions|iterable $options): self;

    public function getOptions(): AdapterOptions;

    /**
     * @param  non-empty-string  $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function getItem(string $key, bool|null &amp;$success = null, mixed &amp;$casToken = null): mixed;

    /**
     * @param  non-empty-list&lt;non-empty-string&gt; $keys
     * @return array&lt;non-empty-string,mixed&gt; Associative array of keys and values
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function getItems(array $keys);

    /**
     * Test if an item exists.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function hasItem(string $key): bool;

    /**
     * Test multiple items.
     *
     * @param  non-empty-array&lt;non-empty-string&gt; $keys
     * @return list&lt;non-empty-string&gt; Array of found keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function hasItems(array $keys): array;

    /**
     * Store an item.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function setItem(string $key, mixed $value): bool;

    /**
     * Store multiple items.
     *
     * @param  non-empty-array&lt;non-empty-string,mixed&gt; $keyValuePairs
     * @return list&lt;non-empty-string&gt; Array of not stored keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function setItems(array $keyValuePairs): array;

    /**
     * Add an item.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function addItem(string $key, mixed $value): bool;

    /**
     * Add multiple items.
     *
     * @param  non-empty-array&lt;non-empty-string,mixed&gt; $keyValuePairs
     * @return list&lt;non-empty-string&gt; Array of not stored keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function addItems(array $keyValuePairs): array;

    /**
     * Replace an existing item.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function replaceItem(string $key, mixed $value): bool;

    /**
     * Replace multiple existing items.
     *
     * @param  non-empty-array&lt;non-empty-string,mixed&gt; $keyValuePairs
     * @return list&lt;non-empty-string&gt; Array of not stored keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function replaceItems(array $keyValuePairs): array;

    /**
     * Set an item only if token matches
     *
     * It uses the token received from getItem() to check if the item has
     * changed before overwriting it.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     * @see    getItem()
     * @see    setItem()
     */
    public function checkAndSetItem(mixed $token, string $key, mixed $value): bool;

    /**
     * Reset lifetime of an item
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function touchItem(string $key): bool;

    /**
     * Reset lifetime of multiple items.
     *
     * @param  non-empty-list&lt;non-empty-string&gt; $keys
     * @return list&lt;non-empty-string&gt; Array of not updated keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function touchItems(array $keys): array;

    /**
     * Remove an item.
     *
     * @param  non-empty-string $key
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function removeItem(string $key): bool;

    /**
     * Remove multiple items.
     *
     * @param  non-empty-array&lt;non-empty-string&gt; $keys
     * @return list&lt;non-empty-string&gt; Array of not removed keys
     * @throws \Laminas\Cache\Exception\ExceptionInterface
     */
    public function removeItems(array $keys): array;

    public function getCapabilities(): Capabilities;
}</code></pre>
<h2 id="availablespacecapableinterface">AvailableSpaceCapableInterface</h2>
<p><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code> implements a method to allow
retrieving the current available space remaining in storage.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface AvailableSpaceCapableInterface
{
    /**
     * Get available space in bytes
     */
    public function getAvailableSpace(): int;
}</code></pre>
<h2 id="totalspacecapableinterface">TotalSpaceCapableInterface</h2>
<p><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code> implements a method to allow
retrieving the total storage space.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface TotalSpaceCapableInterface
{
    /**
     * Get total space in bytes
     */
    public function getTotalSpace(): int;
}</code></pre>
<h2 id="clearbynamespaceinterface">ClearByNamespaceInterface</h2>
<p><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code> implements a method to allow
clearing all cached items within a given namespace.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface ClearByNamespaceInterface
{
    /**
     * Remove items of given namespace
     *
     * @param non-empty-string $namespace
     */
    public function clearByNamespace(string $namespace): bool;
}</code></pre>
<h2 id="clearbyprefixinterface">ClearByPrefixInterface</h2>
<p><code>Laminas\Cache\Storage\ClearByPrefixInterface</code> implements a method to allow
clearing all cached items that have a given prefix (within the currently
configured namespace).</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface ClearByPrefixInterface
{
    /**
     * Remove items matching given prefix
     *
     * @param non-empty-string $prefix
     */
    public function clearByPrefix(string $prefix): bool;
}</code></pre>
<h2 id="clearexpiredinterface">ClearExpiredInterface</h2>
<p><code>Laminas\Cache\Storage\ClearExpiredInterface</code> implements a method to allow clearing
all expired items (within the current configured namespace).</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface ClearExpiredInterface
{
    /**
     * Remove expired items
     */
    public function clearExpired(): bool;
}</code></pre>
<h2 id="flushableinterface">FlushableInterface</h2>
<p><code>Laminas\Cache\Storage\FlushableInterface</code> implements a method for flushing the
entire cache storage.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface FlushableInterface
{
    /**
     * Flush the whole storage
     */
    public function flush(): bool;
}</code></pre>
<h2 id="iterableinterface">IterableInterface</h2>
<p><code>Laminas\Cache\Storage\IterableInterface</code> implements a method for retrieving an
iterator of all items in storage. It extends <code>IteratorAggregate</code>, so it's
possible to directly iterate over the storage implementations that implement
this interface using <code>foreach</code>.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

use IteratorAggregate;

/**
 * @template-covariant TKey
 * @template-covariant TValue
 * @template-extends IteratorAggregate&lt;TKey,TValue&gt;
 */
interface IterableInterface extends IteratorAggregate
{
    public function getIterator(): IteratorInterface;
}</code></pre>
<h2 id="optimizableinterface">OptimizableInterface</h2>
<p><code>Laminas\Cache\Storage\OptimizableInterface</code> implements a method for running
optimization processes on the storage adapter.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface OptimizableInterface
{
    /**
     * Optimize the storage
     */
    public function optimize(): bool;
}</code></pre>
<h2 id="taggableinterface">TaggableInterface</h2>
<p><code>Laminas\Cache\Storage\TaggableInterface</code> implements methods for tagging items, and
cleaning (expiring) items matching tags.</p>
<pre class="highlight"><code class="language-php">namespace Laminas\Cache\Storage;

interface TaggableInterface
{
    /**
     * Set tags to an item by given key.
     * An empty array will remove all tags.
     *
     * @param non-empty-string   $key
     * @param string[] $tags
     */
    public function setTags(string $key, array $tags): bool;

    /**
     * Get tags of an item by given key
     *
     * @param non-empty-string $key
     * @return string[]|false
     */
    public function getTags(string $key): array|false;

    /**
     * Remove items matching given tags.
     *
     * If $disjunction only one of the given tags must match
     * else all given tags must match.
     *
     * @param string[] $tags
     */
    public function clearByTags(array $tags, bool $disjunction = false): bool;
}</code></pre>
<h2 id="apcu-adapter">APCu Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\Apcu</code> stores cache items in shared memory through the
PHP extension <a href="http://pecl.php.net/package/APCu">APCu</a> (Alternative PHP Cache).</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\StorageInterface</code></li>
<li><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\IterableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>null</code>, <code>bool</code>, <code>int</code>, <code>float</code>, <code>string</code>, <code>array</code> (serialized), <code>object</code> (serialized)</td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td>value of <code>apc.use_request_time</code> INI value, disabled by default.</td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>5182</code></td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata">Metadata</h3>
<p>The APCu adapter does provide a couple of metadatas, which can be fetched by by using either <code>MetadataCapableInterface#getMetadata</code> or <code>MetadataCapableInterface#getMetadatas</code>.</p>
<p>It will return an object with the following properties (or null):</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>internalKey</code></td>
<td><code>string</code></td>
<td style="text-align: left;">The internal key used to store the cache item</td>
</tr>
<tr>
<td><code>lastAccessTime</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The time the cache item was last accessed</td>
</tr>
<tr>
<td><code>creationTime</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The time the cache item was created</td>
</tr>
<tr>
<td><code>lastModifiedTime</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The time the cache item was last modified</td>
</tr>
<tr>
<td><code>size</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The size the cache item is consuming within the cache</td>
</tr>
<tr>
<td><code>hits</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The amount of times the item was requested and returned from the backend</td>
</tr>
<tr>
<td><code>timeToLive</code></td>
<td><code>int</code></td>
<td style="text-align: left;">The overall time to live (in seconds) the cache item was persisted for</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespace_separator</code></td>
<td><code>string</code></td>
<td>":"</td>
<td>A separator for the namespace and prefix.</td>
</tr>
</tbody>
</table></div>
<h2 id="blackhole-adapter">BlackHole Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\BlackHole</code> <strong>does not</strong> store any cache items. This adapter is useful to bypass caching behavior. This might be the case in development mode or unit testing.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\StorageInterface</code></li>
<li><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearExpiredInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\IterableInterface</code></li>
<li><code>Laminas\Cache\Storage\OptimizableInterface</code></li>
<li><code>Laminas\Cache\Storage\TaggableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities_1">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>null</code>, <code>bool</code>, <code>int</code>, <code>float</code>, <code>string</code>, <code>array</code>, <code>object</code></td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td>unlimited as nothing will be cached anyways</td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h2 id="filesystem-adapter">Filesystem Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\Filesystem</code> stores cache items on the filesystem.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\StorageInterface</code></li>
<li><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearExpiredInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\IterableInterface</code></li>
<li><code>Laminas\Cache\Storage\OptimizableInterface</code></li>
<li><code>Laminas\Cache\Storage\TaggableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities_2">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>string</code>, <code>null</code> =&gt; <code>string</code>, <code>boolean</code> =&gt; <code>string</code>, <code>integer</code> =&gt; <code>string</code>, <code>double</code> =&gt; <code>string</code></td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>249</code> (this is the maximum, but depending on the namespace being used, the length might be lower)</td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata_1">Metadata</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lastAccessTime</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The time the cache item was last accessed</td>
</tr>
<tr>
<td><code>creationTime</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The time the cache item was created</td>
</tr>
<tr>
<td><code>lastModifiedTime</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The time the cache item was last modified</td>
</tr>
<tr>
<td><code>filesize</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The amount of bytes the cache item is consuming in the filesystem</td>
</tr>
<tr>
<td><code>filespec</code></td>
<td><code>string</code></td>
<td style="text-align: left;">The absolute path to the cache file without suffix</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_1">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>namespace_separator</code></td>
<td><code>string</code></td>
<td>":"</td>
<td>A separator for the namespace and prefix</td>
</tr>
<tr>
<td><code>cache_dir</code></td>
<td><code>string</code></td>
<td>""</td>
<td>Directory to store cache files.</td>
</tr>
<tr>
<td><code>clear_stat_cache</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Call <code>clearstatcache()</code> enabled?</td>
</tr>
<tr>
<td><code>dir_level</code></td>
<td><code>integer</code></td>
<td><code>1</code></td>
<td>Defines how much sub-directories should be created.</td>
</tr>
<tr>
<td><code>dir_permission</code></td>
<td><code>integer|false</code></td>
<td><code>0700</code></td>
<td>Set explicit permission on creating new directories.</td>
</tr>
<tr>
<td><code>file_locking</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Lock files on writing.</td>
</tr>
<tr>
<td><code>file_permission</code></td>
<td><code>integer</code></td>
<td><code>false</code></td>
<td>0600    Set explicit permission on creating new files.</td>
</tr>
<tr>
<td><code>key_pattern</code></td>
<td><code>string</code></td>
<td><code>/^[a-z0-9_\+\-]*$/Di</code></td>
<td>Validate key against pattern.</td>
</tr>
<tr>
<td><code>no_atime</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Don’t get <code>fileatime</code> as <code>atime</code> on metadata.</td>
</tr>
<tr>
<td><code>no_ctime</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Don’t get <code>filectime</code> as <code>ctime</code> on metadata.</td>
</tr>
<tr>
<td><code>umask</code></td>
<td><code>integer|false</code></td>
<td><code>false</code></td>
<td>Use <a href="http://wikipedia.org/wiki/Umask">umask</a> to set file and directory permissions.</td>
</tr>
<tr>
<td><code>unserializable_classes</code></td>
<td><code>boolean|non-empty-list&lt;class-string&gt;</code></td>
<td><code>true</code></td>
<td>A list of classes which are allowed for unserialization when reading cache values. Available as of v3.0 of the adapter.</td>
</tr>
</tbody>
</table></div>
<h2 id="memcached-adapter">Memcached Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\Memcached</code> stores cache items over the memcached
protocol, using the PHP extension <a href="http://pecl.php.net/package/memcached">memcached</a>,
based on <a href="http://libmemcached.org/">Libmemcached</a>.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\StorageInterface</code></li>
<li><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities_3">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>null</code>, <code>boolean</code>, <code>integer</code>, <code>double</code>, <code>string</code>, <code>array</code> (serialized), <code>object</code> (serialized)</td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>255</code></td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_2">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>servers</code></td>
<td><code>array</code></td>
<td><code>[]</code></td>
<td>List of servers in the format <code>[] = [string host, integer port]</code></td>
</tr>
<tr>
<td><code>lib_options</code></td>
<td><code>array</code></td>
<td><code>[]</code></td>
<td>Associative array of Libmemcached options where the array key is the option name (without the prefix <code>OPT_</code>) or the constant value. The array value is the option value. Please read <a href="http://php.net/manual/memcached.setoption.php">the memcached setOption() page</a> for more information</td>
</tr>
</tbody>
</table></div>
<h2 id="redis-adapter">Redis Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\Redis</code> stores cache items over the <a href="https://redis.io">Redis</a> protocol
using the PHP extension <a href="https://github.com/phpredis/phpredis">PhpRedis</a>.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities_4">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>string</code>, <code>array</code> (serialized), <code>object</code> (serialized)</td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>512000000</code> (in Redis v3+, <code>255</code> in older versions)</td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata_2">Metadata</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>remainingTimeToLive</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The amount of time (seconds) the cache item will remain in the cache. Will be <code>null</code> in case the cache item won't expire.</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_3">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>database</code></td>
<td><code>integer</code></td>
<td>0</td>
<td>Set database identifier.</td>
</tr>
<tr>
<td><code>lib_options</code></td>
<td><code>array</code></td>
<td><code>[]</code></td>
<td>Associative array of Redis options where the array key is the option name.</td>
</tr>
<tr>
<td><code>namespace_separator</code></td>
<td><code>string</code></td>
<td>":"</td>
<td>A separator for the namespace and prefix.</td>
</tr>
<tr>
<td><code>password</code></td>
<td><code>string</code></td>
<td>""</td>
<td>Set password.</td>
</tr>
<tr>
<td><code>persistent_id</code></td>
<td><code>string</code></td>
<td></td>
<td>Set persistent id (name of the connection, leave blank to not use a persistent connection).</td>
</tr>
<tr>
<td><code>resource_manager</code></td>
<td><code>string</code></td>
<td>""</td>
<td>Set the Redis resource manager to use</td>
</tr>
<tr>
<td><code>server</code></td>
<td><code>string|array</code></td>
<td>""</td>
<td>See below.</td>
</tr>
</tbody>
</table></div>
<p><code>server</code> can be described as any of the following:</p>
<ul>
<li>
<div class="admonition uri">
<p class="admonition-title">Uri</p>
<p><code>/path/to/sock.sock</code></p>
</div>
</li>
<li>Associative array: <code>['host' =&gt; &lt;host&gt;[, 'port' =&gt; &lt;port&gt;[, 'timeout' =&gt; &lt;timeout&gt;]]]</code></li>
<li>List: <code>[&lt;host&gt;[, &lt;port&gt;, [, &lt;timeout&gt;]]]</code></li>
</ul>
<h2 id="rediscluster-adapter">RedisCluster Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\RedisCluster</code> stores cache items over the <a href="https://github.com/phpredis/phpredis#redis-cluster-support">Redis cluster</a> protocol
using the PHP extension <a href="https://github.com/phpredis/phpredis">PhpRedis</a>.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\ClearByNamespaceInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
</ul>
<h3 id="capabilities_5">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>string</code>, <code>array</code> (serialized), <code>object</code> (serialized)</td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>512000000</code> (in Redis v3+, <code>255</code> in older versions)</td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata_3">Metadata</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>remainingTimeToLive</code></td>
<td><code>int|null</code></td>
<td style="text-align: left;">The amount of time (seconds) the cache item will remain in the cache. Will be <code>null</code> in case the cache item won't expire.</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_4">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib_options</code></td>
<td><code>array</code></td>
<td><code>[]</code></td>
<td>Associative array of Redis options where the array key is the options constant value (see <code>RedisCluster::OPT_*</code> <a href="https://github.com/JetBrains/phpstorm-stubs/blob/master/redis/RedisCluster.php">constants</a> for details).</td>
</tr>
<tr>
<td><code>namespace_separator</code></td>
<td><code>string</code></td>
<td>":"</td>
<td>A separator for the namespace and prefix.</td>
</tr>
<tr>
<td><code>password</code></td>
<td><code>string</code></td>
<td>""</td>
<td>Password to authenticate with Redis server</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>""</td>
<td>Name to determine configuration from <a href="https://github.com/phpredis/phpredis/blob/develop/cluster.markdown#loading-a-cluster-configuration-by-name">php.ini</a> (<strong>MUST NOT</strong> be combined with <code>seeds</code>)</td>
</tr>
<tr>
<td><code>seeds</code></td>
<td><code>array</code></td>
<td><code>[]</code></td>
<td>List of strings containing <code>&lt;hostname&gt;:&lt;port&gt;</code> (<strong>MUST NOT</strong> be combined with <code>name</code>)</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>float</code></td>
<td><code>1.0</code></td>
<td>Timeout for commands, see <a href="https://github.com/phpredis/phpredis/blob/develop/cluster.markdown#timeouts">PhpRedis</a> timeouts documentation for more background.</td>
</tr>
<tr>
<td><code>read_timeout</code></td>
<td><code>float</code></td>
<td><code>2.0</code></td>
<td>Read timeout for commands, see <a href="https://github.com/phpredis/phpredis/blob/develop/cluster.markdown#timeouts">PhpRedis</a> timeouts documentation for more background.</td>
</tr>
<tr>
<td><code>persistent</code></td>
<td><code>bool</code></td>
<td><code>false</code></td>
<td>Flag to specify whether to create a persistent connection or not</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>string</code></td>
<td>""</td>
<td>The Redis server version. <strong>MUST</strong> be specified in a <a href="https://semver.org/#semantic-versioning-200">Semantic Versioning 2.0.0</a> format. This information is used to determine some features/capabilities without opening a connection to the server.</td>
</tr>
</tbody>
</table></div>
<h2 id="memory-adapter">Memory Adapter</h2>
<p>The <code>Laminas\Cache\Storage\Adapter\Memory</code> stores items in-memory in the current
process only.</p>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\StorageInterface</code></li>
<li><code>Laminas\Cache\Storage\AvailableSpaceCapableInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearByPrefixInterface</code></li>
<li><code>Laminas\Cache\Storage\ClearExpiredInterface</code></li>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
<li><code>Laminas\Cache\Storage\IterableInterface</code></li>
<li><code>Laminas\Cache\Storage\TaggableInterface</code></li>
<li><code>Laminas\Cache\Storage\TotalSpaceCapableInterface</code></li>
</ul>
<h3 id="capabilities_6">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>string</code>, <code>null</code>, <code>boolean</code>, <code>integer</code>, <code>double</code>, <code>array</code>, <code>object</code>, <code>resource</code></td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>0</code> (unlimited)</td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>false</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata_4">Metadata</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lastModifiedTime</code></td>
<td><code>float</code></td>
<td style="text-align: left;">The time the cache item was last modified</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_5">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>max_items</code></td>
<td><code>int</code></td>
<td><code>0</code> (unlimited)</td>
<td>Limit of how many cache items are allowed to be stored. Available with v3.0 of the <code>Memory</code> adapter</td>
</tr>
</tbody>
</table></div>
<blockquote>
<h4 id="max-items">Max Items</h4>
<p>The adapter has the following behavior in regard to the <code>max_items</code> option:</p>
<ul>
<li>If the items persisted to the memory cache are exceeding the limit, a new item will be stored while the oldest item will be removed</li>
</ul>
<h3 id="current-process-only">Current process only</h3>
<p>All stored items will be lost on termination of the script. For web-facing
requests, this typically means the cache is volatile.</p>
</blockquote>
<h2 id="extmongodb-adapter">ExtMongoDB Adapter</h2>
<p><code>Laminas\Cache\Storage\Adapter\ExtMongoDB</code> stores cache items using the mongodb extension, and
requires that the MongoDB PHP Client library is also installed. You can install the client
library using the following:</p>
<pre class="highlight"><code class="language-bash">$ composer require mongodb/mongodb</code></pre>
<p>This adapter implements the following interfaces:</p>
<ul>
<li><code>Laminas\Cache\Storage\FlushableInterface</code></li>
</ul>
<h3 id="capabilities_7">Capabilities</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Capability</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>supportedDatatypes</code></td>
<td><code>string</code>, <code>null</code>, <code>boolean</code>, <code>integer</code>, <code>double</code>, <code>array</code></td>
</tr>
<tr>
<td><code>ttlSupported</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>ttlPrecision</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>usesRequestTime</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>maxKeyLength</code></td>
<td><code>255</code></td>
</tr>
<tr>
<td><code>namespaceIsPrefix</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table></div>
<h3 id="metadata_5">Metadata</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Metadata</th>
<th>Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>objectId</code></td>
<td><code>string</code></td>
<td style="text-align: left;">The primary key within the mongo collection.</td>
</tr>
</tbody>
</table></div>
<h3 id="adapter-specific-options_6">Adapter Specific Options</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lib_option</code></td>
<td><code>array</code></td>
<td></td>
<td>Associative array of options where the array key is the option name.</td>
</tr>
<tr>
<td><code>namespace_separator</code></td>
<td><code>string</code></td>
<td>":"</td>
<td>A separator for the namespace and prefix.</td>
</tr>
</tbody>
</table></div>
<p>Available keys for <code>lib_option</code> include:</p>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Key</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>server</code></td>
<td><code>mongodb://localhost:27017</code></td>
<td>The MongoDB server connection string (see the <a href="https://docs.mongodb.com/php-library/current/reference/method/MongoDBClient__construct/">MongoDB\Client docs</a>).</td>
</tr>
<tr>
<td><code>database</code></td>
<td><code>laminas</code></td>
<td>Name of the database to use; MongoDB will create this database if it does not exist.</td>
</tr>
<tr>
<td><code>collection</code></td>
<td><code>cache</code></td>
<td>Name of the collection to use; MongoDB will create this collection if it does not exist.</td>
</tr>
<tr>
<td><code>connectionOptions</code></td>
<td><code>['fsync' =&gt; false, 'journal' =&gt; true]</code></td>
<td>Associative array of URI options (such as authentication credentials or query string parameters) to pass to <code>MongoDB\\Client</code> (see the <a href="https://docs.mongodb.com/php-library/current/reference/method/MongoDBClient__construct/">MongoDB\Client docs</a>).</td>
</tr>
<tr>
<td><code>driverOptions</code></td>
<td><code>[]</code></td>
<td>Associative array of driver options to pass to <code>MongoDB\\Client</code> (see the <a href="https://docs.mongodb.com/php-library/current/reference/method/MongoDBClient__construct/">MongoDB\Client docs</a>).</td>
</tr>
</tbody>
</table></div>
<h2 id="examples">Examples</h2>
<h3 id="basic-usage">Basic Usage</h3>
<pre class="highlight"><code class="language-php">use Laminas\Cache\Service\StorageAdapterFactoryInterface;
use Psr\Container\ContainerInterface;

/** @var ContainerInterface $container */
$container = null; // can be any configured PSR-11 container

/** @var StorageAdapterFactoryInterface $storageFactory */
$storageFactory = $container-&gt;get(StorageAdapterFactoryInterface::class);

$cache = $storageFactory-&gt;create(
    'filesystem', 
    [], 
    [
        // Don't throw exceptions on cache errors
        [
            'name' =&gt; 'exception_handler',
            'options' =&gt; [
                'throw_exceptions' =&gt; false
            ],
        ],
    ]
);

$key    = 'unique-cache-key';
$result = $cache-&gt;getItem($key, $success);
if (! $success) {
    $result = doExpensiveStuff();
    $cache-&gt;setItem($key, $result);
}</code></pre>
<h3 id="get-multiple-rows-from-a-database">Get multiple Rows from a Database</h3>
<pre class="highlight"><code class="language-php">use Laminas\Cache\Service\StorageAdapterFactoryInterface;
use Psr\Container\ContainerInterface;

/** @var ContainerInterface $container */
$container = null; // can be any configured PSR-11 container

/** @var StorageAdapterFactoryInterface $storageFactory */
$storageFactory = $container-&gt;get(StorageAdapterFactoryInterface::class);

// Instantiate the cache instance using a namespace for the same type of items
$cache = $storageFactory-&gt;create(
    'filesystem',
    // With a namespace, we can indicate the same type of items,
        // so we can simply use the database id as the cache key
    [
        'namespace' =&gt; 'dbtable',
    ],
    [
        // Don't throw exceptions on cache errors
        [
            'name' =&gt; 'exception_handler',
            'options' =&gt; [
                'throw_exceptions' =&gt; false,
            ],
        ],
        // We store database rows on filesystem so we need to serialize them
        [
            'name' =&gt; 'Serializer',
        ],
    ]
);

// Load two rows from cache if possible
$ids     = [1, 2];
$results = $cache-&gt;getItems($ids);
if (count($results) &lt; count($ids)) {
    // Load rows from db if loading from cache failed
    $missingIds     = array_diff($ids, array_keys($results));
    $missingResults = [];
    $query          = 'SELECT * FROM dbtable WHERE id IN (' . implode(',', $missingIds) . ')';
    foreach ($pdo-&gt;query($query, PDO::FETCH_ASSOC) as $row) {
        $missingResults[ $row['id'] ] = $row;
    }

    // Update cache items of the loaded rows from db
    $cache-&gt;setItems($missingResults);

    // merge results from cache and db
    $results = array_merge($results, $missingResults);
}</code></pre>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../../installation/">
                    <small class="page-nav__label">Previous</small>
                    <i class="fa fa-chevron-left"></i>
                    Installation
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../capabilities/">
                    <small class="page-nav__label">Next</small>
                    Capabilities
                    <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>



                
            </div>
            <div class="col-md-3 col-sm-12 sidebar">
                <div class="donation-banner">
    <a href="https://getlaminas.org/support/">
        <h2>Donate</h2>
        <p>Support Laminas Developers Directly</p>
        <img src="https://funding.communitybridge.org/assets/cb-f-horizontal-white.svg">
    </a>
</div>

                
                    <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../../..">laminas-cache</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                
                    
                        
    <li class="subnavigation__list-item ">
        <a href="../../installation/" class="subnavigation__link">Installation</a>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Storage</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Adapters</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../capabilities/" class="subnavigation__link">Capabilities</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../plugin/" class="subnavigation__link">Plugins</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Cache Patterns</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/callback-cache/" class="subnavigation__link">CallbackCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/object-cache/" class="subnavigation__link">ObjectCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/output-cache/" class="subnavigation__link">OutputCache</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../pattern/capture-cache/" class="subnavigation__link">CaptureCache</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Standards Support</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../psr6/" class="subnavigation__link">PSR-6</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../../psr16/" class="subnavigation__link">PSR-16</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Application Integration</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../application-integration/usage-in-a-laminas-mvc-application/" class="subnavigation__link">Usage in a laminas-mvc Application</a>
    </li>

            
        </ul>
    </li>

                    
                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Migration Guide</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../../migration/to-version-4/" class="subnavigation__link">Migration to Version 4.0</a>
    </li>

            
        </ul>
    </li>

                    
                
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            
        </ul>
    </div>

                    
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h5>Laminas</h5>
                <ul>
                    <li>Laminas Project <a href="https://getlaminas.org/">The new foundation for the community-supported, open source continuation of Zend Framework</a></li>
                    <li>Laminas Components and MVC <a href="https://docs.laminas.dev/">Components and MVC for enterprise applications</a></li>
                    <li>Mezzio <a href="https://docs.mezzio.dev/">PSR-15 middleware in minutes</a></li>
                    <li>Maintenance Overview <a href="https://getlaminas.org/packages-maintenance-status/">Current maintenance status of Laminas &amp; Mezzio packages</a></li>
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Support</h4>
                        <ul class="support__list">
                            <li class="support__list-item">
                                <a href="https://discourse.laminas.dev" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://laminas.dev/chat" class="support__link" title="Chat"><i class="fab fa-slack"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://github.com/laminas" class="support__link" title="Github"><i class="fab fa-github"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://phpc.social/@getlaminas" class="support__link" title="Mastodon"><i class="fab fa-mastodon"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/blog/rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                            </li>
                        </ul>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">License</h4>
                        <p>
                            Code licensed under <a
                                href="https://github.com/laminas/laminas-cache/blob/-/LICENSE.md">BSD 3-Clause</a>.
                        </p>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Copyright</h4>
                        <p>
                            <!--Built with love by the Laminas team with the help of our
                            <a href="https://github.com/laminas/laminas-cache/graphs/contributors">contributors</a>.<br>-->
                            &copy; 2024 <a href="https://getlaminas.org/">Laminas Project</a> a Series of LF Projects, LLC.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script>
        let base_url = '../../..',
            project  = "components",
            siteName = 'laminas-cache';
    </script>
    <script src="https://docs.laminas.dev/js/scripts.js"></script>
    
        <script src="../../../search/main.js"></script>
    

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in laminas-cache" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>
</body>


</html>
